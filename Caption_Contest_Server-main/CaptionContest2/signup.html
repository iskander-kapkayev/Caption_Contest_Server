<!DOCTYPE html>

<head>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&display=swap">

  <!-- calls in the javascript code to change between sign up and sign in -->
  <script src="/scripts/script.js"></script>

  <title>Sign In</title>

</head>

<body>

  <!-- Sign In Form -->
  <div class="form-container">
    <h2>LOGIN</h2>

    <form id="login">

      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" required>
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" id="password" name="password" required>
      </div>

      <div class="form-group">
        <input type="submit" value="SUBMIT"/>
      </div>
    </form>

    <div class="link">
      <p>Don't have an account? <a href="#" onclick="showRegisterForm()">REGISTER here</a></p>
    </div>
  </div>

  <script>

      // adding onsubmit features for user login and registration forms

      const loginForm = document.getElementById['login'];

      if (loginForm) {
        // bind the onsubmit property to a function to do some logic
        loginForm.onsubmit = function(e) {

            // access the desired input through the var we setup
            const email = loginForm['email'].value;
            const password = loginForm['password'].value;

            e.preventDefault();

            // redirect user based on signup attempt
            if (signInUser(email, password)) {
                window.location.href = "https://caption-contest-server-35n2.vercel.app/";
            } else {
                window.location.href = "https://caption-contest-server-35n2.vercel.app/signup.html";
            }
        }
      } else {
        console.error('Form element with ID "loginForm" not found.');
      }

  </script>



  <!-- Registration Form (initially hidden) -->
  <div class="form-container" id="registerForm" style="display:none;">
    <h2>REGISTER</h2>
    <form id="register">

      <div class="form-group">
        <label for="usernameRegister">Username</label>
        <input type="text" id="usernameRegister" name="usernameRegister" required>
      </div>

      <div class="form-group">
        <label for="emailRegister">Email</label>
        <input type="email" id="emailRegister" name="emailRegister" required>
      </div>

      <div class="form-group">
        <label for="passwordRegister">Password</label>
        <input type="password" id="passwordRegister" name="passwordRegister" required>
      </div>

      <div class="form-group">
        <input type="submit" value="SUBMIT"/>
      </div>

    </form>

    <div class="link">
      <p>Already have an account? <a href="#" onclick="showSignInForm()">LOGIN here</a></p>
    </div>
  </div>

  <script>

    // adding onsubmit features for user login and registration forms

    const regForm = document.getElementById['register'];
    if (regForm) {
      regForm.onsubmit = function(e) {

          // access the desired input through the var we setup
          const username = regForm['usernameRegister'].value;
          const email = regForm['emailRegister'].value;
          const password = regForm['passwordRegister'].value;

          e.preventDefault();

          // redirect user based on signup attempt
          if (signUpRegister(username, email, password)) {
              window.location.href = "https://caption-contest-server-35n2.vercel.app/";
          } else {
              window.location.href = "https://caption-contest-server-35n2.vercel.app/signup.html";
          }
      }
    } else {
      console.error('Form element with ID "regForm" not found.');
    }

  </script>

</body>
</html>
